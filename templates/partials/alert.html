<div 
  id="alert-box"
  x-data="{ show: true, type: '{{ type }}' }"
  x-show="show"
  x-transition:enter="transition ease-out duration-300"
  x-transition:enter-start="opacity-0 translate-y-2"
  x-transition:enter-end="opacity-100 translate-y-0"
  x-transition:leave="transition ease-in duration-300"
  x-transition:leave-start="opacity-100 translate-y-0"
  x-transition:leave-end="opacity-0 translate-y-2"
  x-init="setTimeout(() => show = false, 3000)"
  @click.away="show = false"
  class="fixed top-6 right-6 bg-white border-l-4 shadow-lg rounded-md px-5 py-3 w-72 flex items-start gap-3 z-[9999]"
  :class="type === 'success' ? 'border-green-500' : 'border-red-500'"
>
  <i 
    :data-lucide="type === 'success' ? 'check-circle' : 'x-circle'" 
    class="w-5 h-5 mt-0.5 flex-shrink-0"
    :class="type === 'success' ? 'text-green-500' : 'text-red-500'">
  </i>

  <div class="flex-1">
    <p class="text-sm font-semibold text-gray-800">{{ title }}</p>
    <p class="text-xs text-gray-500">{{ message|safe }}</p>
  </div>

  <button 
    @click="show = false" 
    class="text-gray-400 hover:text-gray-600 transition-colors"
    title="Close"
    hx-on::after-request="window.startAutoRefresh && window.startAutoRefresh()"
  >
    <i data-lucide="x" class="w-4 h-4"></i>
  </button>
</div>

<script>
  document.addEventListener("DOMContentLoaded", () => lucide.createIcons());
  document.addEventListener("htmx:afterSwap", () => lucide.createIcons());
</script>
