<!DOCTYPE html>
<html lang="id">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>{% block title %}AutoPentest{% endblock %}</title>

  <!-- ✅ Tailwind CDN -->
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            "Primary-500": "#274E80",
            "Primary-200": "#B3C9E0",
            "Primary-100": "#E6EEF6",
            "Neutral-900": "#000000",
          },
          fontFamily: {
            roboto: ["Roboto", "sans-serif"],
            inter: ["Inter", "sans-serif"],
          },
        },
      },
    };
  </script>

  <!-- ✅ htmx & Alpine.js -->
  <script src="https://unpkg.com/htmx.org@1.9.10"></script>
  <script defer src="https://unpkg.com/alpinejs@3.13.3/dist/cdn.min.js"></script>

  <!-- ✅ Lucide Icons -->
  <script src="https://unpkg.com/lucide@latest"></script>

  <!-- Flowbite -->
  <link href="https://cdn.jsdelivr.net/npm/flowbite@2.5.1/dist/flowbite.min.css" rel="stylesheet" />
  <script src="https://cdn.jsdelivr.net/npm/flowbite@2.5.1/dist/flowbite.min.js"></script>


  {% block styles %}{% endblock %}
  <style>
    [x-cloak] {
      display: none !important;
    }
  </style>
</head>

<body x-data="{ open: true }" x-data="progressTable()" class="bg-Primary-100 text-Neutral-900 font-inter min-h-screen">
  <!-- ✅ Sidebar -->
  {% include 'components/sidebar.html' %}

  <!-- ✅ Wrapper konten utama -->
  <div :class="open ? 'ml-72' : 'ml-20'" class="flex flex-col transition-all duration-300 ease-in-out min-h-screen">
    <!-- Header breadcrumb -->
    {% include 'components/header.html' %}

    <!-- Konten utama -->
    <main class="flex-1 overflow-y-auto p-8 bg-Primary-100 h-screen">
      {% block content %}{% endblock %}
    </main>
  </div>

  <!-- ===== Optional per-page scripts inserted by child templates ===== -->
  {% block scripts %}
  {# Default: include morphdom extension so pages can use hx-swap="morphdom:innerHTML" #}
  <script src="https://unpkg.com/htmx.org/dist/ext/morphdom-swap.js"></script>
  {% endblock %}

  <script>
    document.addEventListener("DOMContentLoaded", () => {
      lucide.createIcons();

      let timeout;
      const refreshIcons = () => {
        clearTimeout(timeout);
        timeout = setTimeout(() => {
          lucide.createIcons();
        }, 150);
      };
      document.body.addEventListener("alpine:init", refreshIcons);
    });
  </script>
</body>

</html>