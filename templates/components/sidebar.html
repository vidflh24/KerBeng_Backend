<body x-data="{ open: true }" class="bg-Primary-100 text-Neutral-900 font-inter min-h-screen overflow-hidden">
  <!-- âœ… Sidebar -->
  <aside :class="open ? 'w-72' : 'w-20'"
    class="fixed top-0 left-0 h-screen bg-Primary-500 border-r border-Neutral-900/10 flex flex-col justify-between p-4 text-Primary-100 transition-all duration-300 ease-in-out z-50">
    <!-- Header -->
    <div>
      <div class="flex items-center justify-between mb-4">
        <div class="flex items-center space-x-2">
          <div class="w-10 h-10 border-2 border-Primary-100 rounded flex items-center justify-center">
            <i data-lucide="shield" class="text-Primary-100 w-5 h-5"></i>
          </div>
          <h2 x-show="open" x-transition x-cloak class="text-2xl font-black font-roboto whitespace-nowrap">
            AutoPentest
          </h2>
        </div>

        <!-- Toggle Button -->
        <button @click="open = !open" class="text-Primary-100 hover:text-Primary-200 p-1 rounded-lg transition"
          :title="open ? 'Tutup Sidebar' : 'Buka Sidebar'">
          <i :data-lucide="open ? 'chevron-left' : 'chevron-right'" class="w-5 h-5"></i>
        </button>
      </div>

      <div class="h-px bg-Primary-100 mb-4"></div>

      <!-- Menu -->
      <nav class="flex flex-col space-y-2">
        <a href="{{ url_for('dashboard') }}"
          class="flex items-center gap-3 px-3 py-2 rounded-lg hover:bg-Primary-100/20 transition-all {% if active_page == 'dashboard' %}bg-Primary-100/20{% endif %}">
          <i data-lucide="layout-dashboard" class="w-5 h-5 text-Primary-200"></i>
          <span x-show="open" x-transition x-cloak class="text-Primary-200 text-sm">Dashboard</span>
        </a>

        <a href="{{ url_for('scan_vulnerability') }}"
          class="flex items-center gap-3 px-3 py-2 rounded-lg hover:bg-Primary-100/20 transition-all {% if active_page == 'project' %}bg-Primary-100/20{% endif %}">
          <i data-lucide="folder-open" class="w-5 h-5 text-Primary-200"></i>
          <span x-show="open" x-transition x-cloak class="text-Primary-200 text-sm">Projects</span>
        </a>

        <a href="{{ url_for('reports') }}"
          class="flex items-center gap-3 px-3 py-2 rounded-lg hover:bg-Primary-100/20 transition-all {% if active_page == 'reports' %}bg-Primary-100/20{% endif %}">
          <i data-lucide="file-text" class="w-5 h-5 text-Primary-200"></i>
          <span x-show="open" x-transition x-cloak class="text-Primary-200 text-sm">Reports</span>
        </a>
      </nav>
    </div>

    <!-- Logout -->
    <div>
      <a href="{{ url_for('logout') }}"
        class="flex items-center justify-between px-3 py-2 rounded-lg hover:bg-Primary-100/20 transition">
        <i data-lucide="log-out" class="w-5 h-5 text-Primary-200"></i>
        <span x-show="open" x-transition x-cloak class="text-Primary-200 text-sm">Log Out</span>
      </a>
    </div>
  </aside>

  <script>
    document.addEventListener("DOMContentLoaded", () => {
      lucide.createIcons();
      // refresh icons setiap toggle selesai
      document.body.addEventListener("transitionend", () => lucide.createIcons());
    });
  </script>
</body>